package com.stal111.forbidden_arcanus.gui.forbiddenmicon.element.button;

import com.mojang.blaze3d.matrix.MatrixStack;
import com.stal111.forbidden_arcanus.gui.element.button.ButtonElement;
import com.stal111.forbidden_arcanus.gui.forbiddenmicon.ForbiddenmiconScreen;
import com.stal111.forbidden_arcanus.gui.forbiddenmicon.element.RecipePreviewElement;
import net.minecraft.util.text.TranslationTextComponent;

import java.util.Collections;

public class ChangeRecipeTypeButton extends ButtonElement {

    private final String hoverText;
    private final RecipePreviewElement.RecipeCategory recipeCategory;

    public ChangeRecipeTypeButton(RecipePreviewElement.RecipeCategory recipeCategory, int blitOffset, int startX, int startY, IPressable onPress, String hoverText) {
        super(0, 0, blitOffset, startX, startY, 14, 15, ForbiddenmiconScreen.FORBIDDENMICON_GUI_TEXTURES, onPress);
        this.recipeCategory = recipeCategory;
        this.hoverText = hoverText;
    }

    @Override
    public String getName() {
        return "change_recipe_type_button";
    }

    @Override
    public void render(MatrixStack matrixStack, int x, int y) {
        if (isActivated()) {
            bindTexture(ForbiddenmiconScreen.FORBIDDENMICON_GUI_TEXTURES);
            blit(matrixStack, getBlitOffset(), getStartX() - 18, getStartY(), 14, 17, 256, 512);
        } else {
            super.render(matrixStack, x, y);
        }
    }

    @Override
    public void renderHoverEffect(MatrixStack matrixStack, int x, int y) {
        int i = isActivated() ? 17 : 15;
        if (x >= getPosX() && y >= getPosY() && x < getPosX() + 14 && y < getPosY() + i) {
            renderFancyTooltip(matrixStack, Collections.singletonList(new TranslationTextComponent("forbiddenmicon.recipe." + hoverText)), x, y);
        }
    }

    public RecipePreviewElement.RecipeCategory getRecipeCategory() {
        return recipeCategory;
    }
}
